<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="m-0">Schedules</h3>
    <a class="btn btn-primary" routerLink="/schedules/create"
      >+ Create Schedule</a
    >
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <div *ngIf="loading" class="alert alert-secondary">Loading schedules...</div>

  <div
    *ngIf="!loading && !errorMessage && schedules.length === 0"
    class="alert alert-info"
  >
    No schedule entries found.
  </div>

  <table
    *ngIf="!loading && !errorMessage && schedules.length > 0"
    class="table table-bordered table-sm align-middle"
  >
    <thead class="table-light">
      <tr>
        <th>Group</th>
        <th>Subject</th>
        <th>Teacher</th>
        <th>Day</th>
        <th>Start</th>
        <th>End</th>
        <th style="width: 220px">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let s of schedules; trackBy: trackById">
        <td>{{ groupLabel(s) }}</td>
        <td>{{ subjectLabel(s) }}</td>
        <td>{{ teacherLabel(s) }}</td>
        <td>{{ weekdayLabel(s.week_day) }}</td>
        <td>{{ s.start_time || "—" }}</td>
        <td>{{ s.end_time || "—" }}</td>
        <td>
          <a
            class="btn btn-sm btn-info me-2"
            [routerLink]="['/schedules', s.id]"
            >Detail</a
          >
          <a
            class="btn btn-sm btn-warning me-2"
            [routerLink]="['/schedules', s.id, 'edit']"
            >Edit</a
          >
          <button class="btn btn-sm btn-danger" (click)="delete(s.id)">
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
